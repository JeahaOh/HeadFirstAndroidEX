# 프래그먼트.
지금까지 예제는 앱을 실행하는 디바이스의 종류와 관계없이 같은 방식으로 작동하는 앱을 만들어 봤음.  
만약 디바이스가 폰인지, 태블렛인지에 따라 작동 방법을 다르게 하고싶다면 어떻게 해야 하는가?  
여러 Activity를 재활용할 수 있는 모듈화 코드 컴포넌트인 프래그먼트가 필요함.  
기본 프래그먼트와 리스트 프래그먼트를 생성하는 방법.  
액티비티에 프래그먼트를 추가하는 방법.  
프래그먼트와 액티비티가 서로 통신하는 방법을 공부해 보자.

## 모든 디바이스에서 앱은 같은 모습을 유지해야 함.
태블릿 처럼 큰 디바이스에서는 더 많은 공간이 있으므로 한 화면에 모든 정보를 포함하는 것이 좋음.  
태블릿에서는 운동 목록을 화면 일부에 표시하고 사용자가 항목을 클릭하면 자세한 정보를 오른쪽에 표시함.  
  
이처럼 폰과 태블릿의 사용자 인터페이스를 다르게 구현하려면 큰 디바이스용 레이아웃과 작은 디바이스용 레이아웃을 따로 만들어야 함.

## 코드가 중복될 수 있음.
폰에서 액티비티 두개를 이용하고, 태블릿에서 액티비티를 한개 사용하게 된다면,  
프래그먼트를 이용하면 두 개의 액티비티에서 코드를 중복하지 않을 수 있음.

## 프래그먼로 코드를 재사용할 수 있음
프래그먼트는 재사용할 수 있는 컴포넌트나 하위 액티비티와 같다고 볼 수 있음.  
프래그먼트로 화면의 일부를 제어하거나 여러 화면에서 재사용할 수 있음.  
즉, 운동 목록과 자세한 운동 정보를 각각의 프래그먼트로 생성한 다음 레이아웃에서 이 프래그먼트를 재사용할 수 있음.

## 프래그먼트는 레이아웃을 갖고 있음
액티비티처럼 프래그먼트도 레이아웃을 갖음.  
설계를 잘 하면 프래그먼트의 자바 코드로 인터페이스의 모든 것을 제어할 수 있음.  
프래그먼트 코드에 레이아웃의 모든 컨트롤을 포함하면 앱의 어디에서나 프래그먼트를 쉽게 재사용할 수 있음.

## Fragment Life-Cycle
```
액티비티 상태  |        프래그먼트 콜백
--------------------------------------------------------------
액티비티 생성  |            onAttach( Context )
                    프래그먼트가 컨텍스트(예제에서는 액티비티)에
                            연결 되었을 때 호출됨
                            |
                        onCreate( Bundle )
                    액티비티의 onCreate()와 비슷하게,
                    프래그먼트 초기 설정 등의 작업을 하는 곳.
                            |
                        onCreateView( LayoutInflator, ViewGroup, Bundle )
                먼트는 여기서 레이아웃 인플레이터로 자신의 뷰를 만듦.
                            |
                        onActivityCreated( Bundle )
                액티비티의 onCreate()가 완료되면 호출.
-------------------------------------------------------------
액티비티 시작  |            onStart()
                프래그먼트가 보이는 상태가 되기 직전에 호출.
                            |
-------------------------------------------------------------
액티비티 재개  |            onResume()
            프래그먼트가 보이는 상태면서 액티비티가 실행중일때 호출.
                            |
-------------------------------------------------------------
액티비티 정지  |             onPause()
        사용자와 프래그먼트가 더 이상 상호작용하지 않게 되었을 때 호출.
                            |
-------------------------------------------------------------
액티비티 중지  |            onStop()
            프래그먼트가 사용자에게 더 이상 보이지 않게 되었을 때 호출.
                            |
-------------------------------------------------------------
액티비티 종료   |          onDestroyView()
        뷰와 관련된 모든 리소스를 정리할 수 있는 기회를 프레그먼트에 제공.
                            |
                        onDestroy()
            프래그먼트는 자신이 생성한 모든 리소스를 정리할 수 있음.
                            |
                        onDetach()
            프레그먼트와 액티비티의 연결이 완전히 끊어질 때 호출.
```

## 핵심 정리
- 화면 일부를 제어할 때 프래그먼트를 사용함.  
  다양한 액티비티에서 프래그먼트를 재사용할 수 있음.
- 프래그먼트는 관련 레이아웃을 가지고 있음.
- 안드로이드가 프래그먼트의 레이아웃을 필요로 할 때마다 onCreateView()가 호출됨.
- `<fragment>` 요소로 액티비티의 레이아웃에 프래그먼트를 추가할 수 있으며 name 속성으로 이름을 할당할 수 있음.
- 프래그먼트 생명주기 메소드는 프래그먼트를 포함하는 액티비티 상태와 연결됨.
- Fragment 클래스는 Activity 클래스를 상속받지도 Context 클래스를 구현하지도 않음.
- Fragment는 findViewById() 대신 getView()로 루트 뷰 레퍼런스를 얻은 다음 반환된 뷰의 findViewById() 메소드를 호출할 수 있음.
- 리스트 프래그먼트는 온전한 ListView를 제공하는 프래그먼트임.  
  ListFragment를 상속받아서 리스트 프래그먼트를 생성할 수 있음.
- 프래그먼트 생명주기 메소드
```
    onAttach()
        |
    onCreate()
        |
    onCreateView()
        |
    onActivityCreated()
        |
    onStart()
        |
    onResume()
        |
    onPause()
        |
    onStop()
        |
    onDestroyView()
        |
    onDestroy()
        |
    onDetach()
```
